{% extends 'layouts/base_tool.html' %}
{% load staticfiles %}
{% load static %}
{% load bootstrap3 %}

{% block title %}
	Test_page
{% endblock %}

{% block additionalcss %}
	<link rel="stylesheet" href="//static.jstree.com/3.3.7/assets/bootstrap/css/bootstrap.min.css" />
	<link rel="stylesheet" href="//static.jstree.com/3.3.7/assets/dist/themes/default/style.min.css" />
	<link rel="stylesheet" href="//static.jstree.com/3.3.7/assets/docs.css" />
	<!--[if lt IE 9]><script src="//static.jstree.com/3.3.7/assets/respond.js"></script><![endif]-->

	<link rel="icon" href="//static.jstree.com/3.3.7/assets/favicon.ico" type="image/x-icon" />
	<link rel="apple-touch-icon-precomposed" href="//static.jstree.com/3.3.7/assets/apple-touch-icon-precomposed.png" />
{% endblock %}

{% block content %}
<br>
	<div class="container" id="content">
		<div class="row page" id="demo" style="display:block;">
			<div class="col-md-12">
				<div class="row">
					<div class="col-md-4 col-sm-8 col-xs-8">
						<button type="button" class="btn btn-success btn-sm" onclick="demo_create();"><i class="glyphicon glyphicon-asterisk"></i> Create</button>
						<button type="button" class="btn btn-warning btn-sm" onclick="demo_rename();"><i class="glyphicon glyphicon-pencil"></i> Rename</button>
						<button type="button" class="btn btn-danger btn-sm" onclick="demo_delete();"><i class="glyphicon glyphicon-remove"></i> Delete</button>
					</div>
					<div class="col-md-2 col-sm-4 col-xs-4" style="text-align:right;">
						<input type="text" value="" style="box-shadow:inset 0 0 4px #eee; width:120px; margin:0; padding:6px 12px; border-radius:4px; border:1px solid silver; font-size:1.1em;" id="demo_q" placeholder="Search" />
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div id="jstree_demo" class="demo" style="margin-top:1em; min-height:200px;"></div>
						<script>
						function demo_create() {
							var ref = $('#jstree_demo').jstree(true),
								sel = ref.get_selected();
							if(!sel.length) { return false; }
							sel = sel[0];
							sel = ref.create_node(sel, {"type":"file"});
							if(sel) {
								ref.edit(sel);
							}
						};
						function demo_rename() {
							var ref = $('#jstree_demo').jstree(true),
								sel = ref.get_selected();
							if(!sel.length) { return false; }
							sel = sel[0];
							ref.edit(sel);
						};
						function demo_delete() {
							var ref = $('#jstree_demo').jstree(true),
								sel = ref.get_selected();
							if(!sel.length) { return false; }
							ref.delete_node(sel);
						};
						
						
						$(function () {
						
							var to = false;
							$('#demo_q').keyup(function () {
								if(to) { clearTimeout(to); }
								to = setTimeout(function () {
									var v = $('#demo_q').val();
									$('#jstree_demo').jstree(true).search(v);
								}, 250);
							});

							
							$('#jstree_demo')
								.jstree({
									"core" : {
										"animation" : 0,
										"check_callback" : true,
										'force_text' : true,
										"themes" : { "stripes" : true },
										'data' : [
													{ "text" : "Root node", "li_attr": {"description": "this is the object type for speaking cratures in media", "examples":["Donald Duck", "Pluto"], "existing_datapoints":35}, "children" : [
														{ "text" : "Child node 1" , "li_attr": {"description": "this is the object type for ficticious dogs in media", "examples":["Pluto","Bello"], "existing_datapoints":0}},
														{ "text" : "Child node 2" , "li_attr": {"description": "this is the object type for ficticious bears in media", "examples":["gummybears","Winnie the Po"], "existing_datapoints":24}, "children":[
															{"text": "second generation1", "li_attr": {"description": "this is the object type for gummy bears", "examples":["dunno","other"], "existing_datapoints":17}, "children": [
																{"text": "third generation1", "li_attr": {"description": "this is the object type for good gummy bears", "examples":["dunno"], "existing_datapoints":9} },
																{"text": "third generation1", "li_attr": {"description": "this is the object type for bad gummy bears", "examples":["other"], "existing_datapoints":8} }]}, 
															{"text": "second generation2", "additional_info": "anything", "li_attr": {"description": "this is the object type for other bears Poo", "examples":["Winnie the Po"], "existing_datapoints":7} , "children": [
																{"text": "third generation2", "li_attr": {"description": "this is the object type for teletubbies", "examples":["Tinkewincky","Lala","Po"], "existing_datapoints":7} }]}]},
														{ "text" : "Child node 3", "li_attr": {"description": "this is the object type for ficticious ducks in medai", "examples":["Donnald Duck"], "existing_datapoints":11} }]},
														]
													
									},
									"types" : {
										"#" : { "max_children" : 1, "max_depth" : 4, "valid_children" : ["root"] },
										"root" : { "icon" : "/static/3.3.7/assets/images/tree_icon.png", "valid_children" : ["default"] },
										"default" : { "valid_children" : ["default","file"] },
										"file" : { "icon" : "glyphicon glyphicon-file", "valid_children" : [] }
									},
									"plugins" : [ "contextmenu", "dnd", "search", "state", "types", "wholerow" ]
						});
			});			
						
						
	var bla = {
  "core" : {
    "animation" : 0,
    "check_callback" : true,
    "themes" : { "stripes" : true },
    'data' : {
      'url' : function (node) {
        return node.id === '#' ?
          'ajax_demo_roots.json' : 'ajax_demo_children.json';
      },
      'data' : function (node) {
        return { 'id' : node.id };
      }
    }
  },
  "types" : {
    "#" : {
      "max_children" : 1,
      "max_depth" : 4,
      "valid_children" : ["root"]
    },
    "root" : {
      "icon" : "/static/3.3.7/assets/images/tree_icon.png",
      "valid_children" : ["default"]
    },
    "default" : {
      "valid_children" : ["default","file"]
    },
    "file" : {
      "icon" : "glyphicon glyphicon-file",
      "valid_children" : []
    }
  },
  "plugins" : [
    "contextmenu", "dnd", "search",
    "state", "types", "wholerow"
  ]
}
						</script>
					</div>

	
				</div>
				
			</div>
		
	
	<script src="//static.jstree.com/3.3.7/assets/jquery-1.10.2.min.js"></script>
	<script src="//static.jstree.com/3.3.7/assets/jquery.address-1.6.js"></script>
	<script src="//static.jstree.com/3.3.7/assets/vakata.js"></script>
	<script src="//static.jstree.com/3.3.7/assets/dist/jstree.min.js"></script>
	<script src="/static/site.js"></script>
	<script>$.each($q,function(i,f){$(f)});$q=null;</script>
{% endblock %}